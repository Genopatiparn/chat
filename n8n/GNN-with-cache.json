{
  "name": "GNN with Caching System",
  "nodes": [
    {
      "parameters": {
        "respondWith": "text",
        "responseBody": "OK",
        "options": {
          "responseHeaders": {
            "entries": [
              {
                "name": "Content-Type",
                "value": "text/plain"
              }
            ]
          }
        }
      },
      "type": "n8n-nodes-base.respondToWebhook",
      "typeVersion": 1.4,
      "position": [
        -4080,
        6480
      ],
      "id": "4294e897-4ac5-4a44-a78e-ce7760081176",
      "name": "Respond to Webhook1"
    },
    {
      "parameters": {
        "jsCode": "try {\n  const userMessage = $json.message || '';\n  console.log('Processing message with FAQ Cache:', userMessage);\n  \n  // ‡πÄ‡∏ä‡πá‡∏Ñ FAQ Cache ‡∏Å‡πà‡∏≠‡∏ô\n  const faqResponse = checkFAQCache(userMessage);\n  if (faqResponse) {\n    console.log('FAQ Cache hit for:', userMessage);\n    return [{\n      json: {\n        output: {\n          issue: userMessage,\n          name: '',\n          phone: ''\n        },\n        faqResponse: faqResponse,\n        source: 'faq_cache'\n      }\n    }];\n  }\n  \n  // ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏û‡∏ö‡πÉ‡∏ô FAQ ‡πÉ‡∏´‡πâ‡πÉ‡∏ä‡πâ AI extraction\n  console.log('No FAQ match, proceeding with AI extraction');\n  return [{\n    json: {\n      message: userMessage,\n      source: 'needs_ai_extraction'\n    }\n  }];\n  \n} catch (error) {\n  console.error('Enhanced Information Extractor Error:', error);\n  return [{\n    json: {\n      output: {\n        issue: $json.message || '‡πÑ‡∏°‡πà‡∏£‡∏∞‡∏ö‡∏∏',\n        name: '',\n        phone: ''\n      },\n      source: 'error_fallback'\n    }\n  }];\n}\n\n// FAQ Cache Function\nfunction checkFAQCache(userMessage) {\n  const message = userMessage.toLowerCase().trim();\n  \n  // POS Usage\n  if (message.includes('pos') || message.includes('‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô') || message.includes('‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ')) {\n    return `üì± ‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô POS ‡∏£‡∏∞‡∏ö‡∏ö\n\n1. ‡πÄ‡∏õ‡∏¥‡∏î‡πÅ‡∏≠‡∏õ POS ‡∏ö‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á\n2. ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏Ç‡∏≤‡∏¢\n3. ‡πÉ‡∏™‡πà‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤\n4. ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô\n5. ‡∏û‡∏¥‡∏°‡∏û‡πå‡πÉ‡∏ö‡πÄ‡∏™‡∏£‡πá‡∏à\n\nüìû ‡∏´‡∏≤‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏° ‡πÇ‡∏ó‡∏£: 02-222-2222`;\n  }\n  \n  // Add Product\n  if (message.includes('‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤') || message.includes('‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÉ‡∏´‡∏°‡πà') || message.includes('‡πÉ‡∏™‡πà‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤')) {\n    return `‚ûï ‡∏ß‡∏¥‡∏ò‡∏µ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÉ‡∏´‡∏°‡πà\n\n1. ‡πÄ‡∏Ç‡πâ‡∏≤‡πÄ‡∏°‡∏ô‡∏π \"‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤\"\n2. ‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° \"‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÉ‡∏´‡∏°‡πà\"\n3. ‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•: ‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤, ‡∏£‡∏≤‡∏Ñ‡∏≤, ‡∏£‡∏´‡∏±‡∏™‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤, ‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà\n4. ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•\n\nüí° ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏™‡πÅ‡∏Å‡∏ô Barcode ‡πÑ‡∏î‡πâ‡∏î‡πâ‡∏ß‡∏¢‡∏Ñ‡πà‡∏∞`;\n  }\n  \n  // Connection Issues\n  if (message.includes('‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠') || message.includes('‡∏≠‡∏¥‡∏ô‡πÄ‡∏ó‡∏≠‡∏£‡πå‡πÄ‡∏ô‡πá‡∏ï') || message.includes('‡∏£‡∏∞‡∏ö‡∏ö‡∏•‡πà‡∏°') || message.includes('‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ')) {\n    return `üîß ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠\n\n1. ‡πÄ‡∏ä‡πá‡∏Ñ‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏ì‡∏≠‡∏¥‡∏ô‡πÄ‡∏ó‡∏≠‡∏£‡πå‡πÄ‡∏ô‡πá‡∏ï\n2. ‡∏£‡∏µ‡∏™‡∏ï‡∏≤‡∏£‡πå‡∏ó‡πÅ‡∏≠‡∏õ POS\n3. ‡πÄ‡∏ä‡πá‡∏Ñ‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠ WiFi\n4. ‡∏•‡∏≠‡∏á‡πÉ‡∏ä‡πâ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠\n\n‚ö†Ô∏è ‡∏´‡∏≤‡∏Å‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠: 02-222-2222 (24 ‡∏ä‡∏°.)`;\n  }\n  \n  // Printing Issues\n  if (message.includes('‡∏û‡∏¥‡∏°‡∏û‡πå') || message.includes('‡πÉ‡∏ö‡πÄ‡∏™‡∏£‡πá‡∏à') || message.includes('‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏û‡∏¥‡∏°‡∏û‡πå') || message.includes('‡∏õ‡∏£‡∏¥‡πâ‡∏ô')) {\n    return `üñ®Ô∏è ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏Å‡∏≤‡∏£‡∏û‡∏¥‡∏°‡∏û‡πå\n\n1. ‡πÄ‡∏ä‡πá‡∏Ñ‡∏Å‡∏£‡∏∞‡∏î‡∏≤‡∏©‡πÉ‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏û‡∏¥‡∏°‡∏û‡πå\n2. ‡πÄ‡∏ä‡πá‡∏Ñ‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠ Bluetooth/USB\n3. ‡∏£‡∏µ‡∏™‡∏ï‡∏≤‡∏£‡πå‡∏ó‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏û‡∏¥‡∏°‡∏û‡πå\n4. ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏û‡∏¥‡∏°‡∏û‡πå‡πÉ‡∏´‡∏°‡πà\n\nüìã ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏™‡πà‡∏á‡πÉ‡∏ö‡πÄ‡∏™‡∏£‡πá‡∏à‡∏ó‡∏≤‡∏á Email ‡πÑ‡∏î‡πâ‡∏î‡πâ‡∏ß‡∏¢‡∏Ñ‡πà‡∏∞`;\n  }\n  \n  // Payment\n  if (message.includes('‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô') || message.includes('‡∏£‡∏±‡∏ö‡πÄ‡∏á‡∏¥‡∏ô') || message.includes('qr') || message.includes('‡πÇ‡∏≠‡∏ô') || message.includes('‡∏ö‡∏±‡∏ï‡∏£')) {\n    return `üí≥ ‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô\n\n‚úÖ ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ä‡∏≥‡∏£‡∏∞:\n- ‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏î\n- ‡∏ö‡∏±‡∏ï‡∏£‡πÄ‡∏Ñ‡∏£‡∏î‡∏¥‡∏ï/‡πÄ‡∏î‡∏ö‡∏¥‡∏ï\n- QR Code (PromptPay)\n- ‡πÇ‡∏≠‡∏ô‡πÄ‡∏á‡∏¥‡∏ô\n- ‡πÄ‡∏á‡∏¥‡∏ô‡∏ó‡∏≠‡∏ô\n\nüì± ‡∏™‡πÅ‡∏Å‡∏ô QR ‡∏ú‡πà‡∏≤‡∏ô‡πÅ‡∏≠‡∏õ Banking ‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢‡∏Ñ‡πà‡∏∞`;\n  }\n  \n  // Reports\n  if (message.includes('‡∏¢‡∏≠‡∏î‡∏Ç‡∏≤‡∏¢') || message.includes('‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô') || message.includes('‡∏™‡∏£‡∏∏‡∏õ') || message.includes('‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥')) {\n    return `üìä ‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏¢‡∏≠‡∏î‡∏Ç‡∏≤‡∏¢\n\n1. ‡πÄ‡∏Ç‡πâ‡∏≤‡πÄ‡∏°‡∏ô‡∏π \"‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô\"\n2. ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ä‡πà‡∏ß‡∏á‡πÄ‡∏ß‡∏•‡∏≤: ‡∏£‡∏≤‡∏¢‡∏ß‡∏±‡∏ô/‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå/‡πÄ‡∏î‡∏∑‡∏≠‡∏ô\n3. ‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î: ‡∏¢‡∏≠‡∏î‡∏Ç‡∏≤‡∏¢‡∏£‡∏ß‡∏°, ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ö‡∏¥‡∏•, ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏Ç‡∏≤‡∏¢‡∏î‡∏µ\n\nüìà ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏™‡πà‡∏á‡∏≠‡∏≠‡∏Å‡πÄ‡∏õ‡πá‡∏ô Excel ‡πÑ‡∏î‡πâ‡∏Ñ‡πà‡∏∞`;\n  }\n  \n  // Backup\n  if (message.includes('‡∏™‡∏≥‡∏£‡∏≠‡∏á') || message.includes('backup') || message.includes('‡∏Å‡∏π‡πâ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•')) {\n    return `üíæ ‡∏Å‡∏≤‡∏£‡∏™‡∏≥‡∏£‡∏≠‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•\n\nüîÑ ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥: ‡∏™‡∏≥‡∏£‡∏≠‡∏á‡∏ó‡∏∏‡∏Å 24 ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á ‡πÄ‡∏Å‡πá‡∏ö‡∏ö‡∏ô Cloud ‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢ 100%\n\nüì• ‡∏™‡∏≥‡∏£‡∏≠‡∏á‡∏î‡πâ‡∏ß‡∏¢‡∏ï‡∏ô‡πÄ‡∏≠‡∏á:\n1. ‡πÄ‡∏Ç‡πâ‡∏≤‡πÄ‡∏°‡∏ô‡∏π \"‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤\"\n2. ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å \"‡∏™‡∏≥‡∏£‡∏≠‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•\"\n3. ‡∏Å‡∏î \"‡∏™‡∏≥‡∏£‡∏≠‡∏á‡πÄ‡∏î‡∏µ‡πã‡∏¢‡∏ß‡∏ô‡∏µ‡πâ\"\n\n‚úÖ ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢‡πÅ‡∏ô‡πà‡∏ô‡∏≠‡∏ô‡∏Ñ‡πà‡∏∞`;\n  }\n  \n  // Contact\n  if (message.includes('‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠') || message.includes('‡πÄ‡∏ö‡∏≠‡∏£‡πå') || message.includes('‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏´‡∏•‡∏∑‡∏≠') || message.includes('‡πÇ‡∏ó‡∏£')) {\n    return `üìû ‡∏ä‡πà‡∏≠‡∏á‡∏ó‡∏≤‡∏á‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠\n\nüïê 24 ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á: 02-222-2222\nüí¨ LINE: @support_pos\nüìß Email: support@company.com\n\nüè¢ ‡∏™‡∏≥‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô:\n‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå-‡∏®‡∏∏‡∏Å‡∏£‡πå 9:00-18:00\n‡πÄ‡∏™‡∏≤‡∏£‡πå 9:00-16:00\n\n‚ö° ‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö‡∏†‡∏≤‡∏¢‡πÉ‡∏ô 30 ‡∏ô‡∏≤‡∏ó‡∏µ‡∏Ñ‡πà‡∏∞`;\n  }\n  \n  return null; // ‡πÑ‡∏°‡πà‡∏û‡∏ö‡πÉ‡∏ô FAQ\n}"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -6800,
        6460
      ],
      "id": "faq-cache-checker",
      "name": "FAQ Cache Checker"
    },
    {
      "parameters": {
        "text": "={{ $json.message }}",
        "attributes": {
          "attributes": [
            {
              "name": "name",
              "description": "‡∏ä‡∏∑‡πà‡∏≠ ,  Name"
            },
            {
              "name": "phone",
              "description": "‡πÄ‡∏ö‡∏≠‡∏£‡πå"
            },
            {
              "name": "issue",
              "description": "‡∏õ‡∏±‡∏ç‡∏´‡∏≤",
              "required": true
            }
          ]
        },
        "options": {
          "systemPromptTemplate": "‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏õ‡πá‡∏ô‡∏ú‡∏π‡πâ‡πÄ‡∏ä‡∏µ‡πà‡∏¢‡∏ß‡∏ä‡∏≤‡∏ç‡∏ó‡∏µ‡πà‡∏™‡∏Å‡∏±‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° ‡πÇ‡∏î‡∏¢‡∏Ñ‡∏≥‡∏ô‡∏∂‡∏á‡∏ñ‡∏∂‡∏á‡∏ö‡∏£‡∏¥‡∏ö‡∏ó‡∏Å‡∏≤‡∏£‡∏™‡∏ô‡∏ó‡∏ô‡∏≤\n\n‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏™‡∏Å‡∏±‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏´‡∏ô‡∏î"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.informationExtractor",
      "typeVersion": 1.2,
      "position": [
        -6400,
        6200
      ],
      "id": "ai-information-extractor",
      "name": "AI Information Extractor"
    },
    {
      "parameters": {
        "jsCode": "try {\n  const inputData = $input.first().json;\n  const userMessage = inputData.output?.issue || inputData.message || '‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ';\n  const startTime = Date.now();\n  const timeout = 25000; // 25 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ\n  \n  console.log('Processing QA with timeout for:', userMessage);\n  \n  // ‡πÄ‡∏ä‡πá‡∏Ñ FAQ ‡∏Å‡πà‡∏≠‡∏ô (‡∏ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏ä‡πá‡∏Ñ)\n  if (inputData.source === 'faq_cache') {\n    return [{\n      json: {\n        response: inputData.faqResponse,\n        source: 'faq_cache',\n        responseTime: Date.now() - startTime\n      }\n    }];\n  }\n  \n  // ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö AI call ‡∏à‡∏£‡∏¥‡∏á - ‡∏à‡∏≥‡∏•‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏Å AI ‡∏û‡∏£‡πâ‡∏≠‡∏° timeout\n  try {\n    const aiResponse = await new Promise((resolve, reject) => {\n      // Timeout handler\n      const timeoutId = setTimeout(() => {\n        reject(new Error('AI_TIMEOUT'));\n      }, timeout);\n      \n      // ‡∏à‡∏≥‡∏•‡∏≠‡∏á AI call (‡πÉ‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏õ‡πá‡∏ô‡∏à‡∏£‡∏¥‡∏á‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏Å OpenAI API)\n      setTimeout(() => {\n        clearTimeout(timeoutId);\n        // ‡∏à‡∏≥‡∏•‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ï‡∏≠‡∏ö‡∏Ç‡∏≠‡∏á AI\n        if (Math.random() > 0.1) { // 90% success rate\n          resolve({\n            response: `‡∏Ç‡∏≠‡∏≠‡∏†‡∏±‡∏¢‡∏Ñ‡πà‡∏∞ ‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÄ‡∏à‡∏≤‡∏∞‡∏à‡∏á‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö \"${userMessage}\" ‡πÉ‡∏ô‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏Ñ‡πà‡∏∞\\n\\n‡πÅ‡∏ï‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡πÄ‡∏à‡πâ‡∏≤‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ç‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°‡πÑ‡∏î‡πâ‡∏ó‡∏µ‡πà:\\nüìû ‡πÇ‡∏ó‡∏£: 02-222-2222\\nüí¨ LINE: @support_pos\\n\\n‡πÄ‡∏à‡πâ‡∏≤‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö‡∏†‡∏≤‡∏¢‡πÉ‡∏ô 24 ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á‡∏Ñ‡πà‡∏∞`,\n            responseTime: Date.now() - startTime\n          });\n        } else {\n          reject(new Error('AI_ERROR'));\n        }\n      }, Math.random() * 3000 + 1000); // 1-4 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ\n    });\n    \n    console.log('AI response received in', aiResponse.responseTime, 'ms');\n    return [{\n      json: {\n        response: aiResponse.response,\n        source: 'ai_success',\n        responseTime: aiResponse.responseTime\n      }\n    }];\n    \n  } catch (error) {\n    console.error('AI call failed:', error.message);\n    throw error;\n  }\n  \n} catch (error) {\n  console.error('Enhanced QA Chain Error:', error);\n  \n  let fallbackMessage = \"‡∏Ç‡∏≠‡∏≠‡∏†‡∏±‡∏¢‡∏Ñ‡πà‡∏∞ ‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•\";\n  let requiresHuman = false;\n  \n  if (error.message === 'AI_TIMEOUT') {\n    fallbackMessage = \"‡∏£‡∏∞‡∏ö‡∏ö‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•‡∏ä‡πâ‡∏≤‡∏Å‡∏ß‡πà‡∏≤‡∏õ‡∏Å‡∏ï‡∏¥ ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏£‡∏≠‡∏™‡∏±‡∏Å‡∏Ñ‡∏£‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏∞\";\n    requiresHuman = true;\n  } else if (error.message.includes('rate_limit') || error.message.includes('429')) {\n    fallbackMessage = \"‡∏Ç‡∏ì‡∏∞‡∏ô‡∏µ‡πâ‡∏°‡∏µ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÄ‡∏¢‡∏≠‡∏∞ ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏£‡∏≠‡∏™‡∏±‡∏Å‡∏Ñ‡∏£‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏∞\";\n    requiresHuman = true;\n  } else if (error.message.includes('network') || error.message.includes('connection')) {\n    fallbackMessage = \"‡πÄ‡∏Å‡∏¥‡∏î‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠ ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏ä‡πá‡∏Ñ‡∏≠‡∏¥‡∏ô‡πÄ‡∏ó‡∏≠‡∏£‡πå‡πÄ‡∏ô‡πá‡∏ï‡πÅ‡∏•‡πâ‡∏ß‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà‡∏Ñ‡πà‡∏∞\";\n    requiresHuman = true;\n  }\n  \n  if (requiresHuman) {\n    fallbackMessage += \"\\n\\n‡πÄ‡∏à‡πâ‡∏≤‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏Å‡∏•‡∏±‡∏ö‡∏†‡∏≤‡∏¢‡πÉ‡∏ô 24 ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á‡∏Ñ‡πà‡∏∞\\n‡∏´‡∏≤‡∏Å‡πÄ‡∏£‡πà‡∏á‡∏î‡πà‡∏ß‡∏ô ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠: 02-222-2222\";\n  }\n  \n  return [{\n    json: {\n      response: fallbackMessage,\n      source: 'fallback',\n      requiresHumanResponse: requiresHuman,\n      error: error.message,\n      responseTime: Date.now() - startTime\n    }\n  }];\n}"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -5840,
        5740
      ],
      "id": "enhanced-qa-with-timeout",
      "name": "Enhanced QA with Timeout"
    },
    {
      "parameters": {
        "jsCode": "try {\n  const inputData = $input.first().json;\n  console.log('Response Handler - Input data:', JSON.stringify(inputData, null, 2));\n  \n  // ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• response\n  const userReply = inputData.response || inputData.text || inputData.output || inputData.answer || '';\n  const source = inputData.source || 'unknown';\n  const responseTime = inputData.responseTime || 0;\n  \n  // Log ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô Cache\n  await logCacheUsage({\n    userId: $('Edit Fields1').first().json.body.events[0].source.userId,\n    message: $('Edit Fields1').first().json.body.events[0].message.text,\n    source: source,\n    responseTime: responseTime,\n    timestamp: new Date().toISOString()\n  });\n  \n  // ‡πÄ‡∏ä‡πá‡∏Ñ‡∏ß‡πà‡∏≤‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà\n  if (!userReply || userReply.trim() === '') {\n    console.log('No response data found, using default message');\n    return [{\n      json: {\n        text: \"‡∏Ç‡∏≠‡∏≠‡∏†‡∏±‡∏¢‡∏Ñ‡πà‡∏∞ ‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏•‡∏≠‡∏á‡∏ñ‡∏≤‡∏°‡πÉ‡∏´‡∏°‡πà‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏∞\\n\\n‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡πÄ‡∏à‡πâ‡∏≤‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏ó‡∏µ‡πà: 02-222-2222\"\n      }\n    }];\n  }\n  \n  console.log('Response sent - Source:', source, 'Time:', responseTime + 'ms');\n  \n  return [{\n    json: {\n      text: userReply,\n      metadata: {\n        source: source,\n        responseTime: responseTime,\n        timestamp: new Date().toISOString()\n      }\n    }\n  }];\n  \n} catch (error) {\n  console.error('Error in Response Handler:', error);\n  return [{\n    json: {\n      text: \"‡∏Ç‡∏≠‡∏≠‡∏†‡∏±‡∏¢‡∏Ñ‡πà‡∏∞ ‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏• ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏∞\\n\\n‡∏´‡∏≤‡∏Å‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏¢‡∏±‡∏á‡∏Ñ‡∏á‡∏≠‡∏¢‡∏π‡πà ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠: 02-222-2222\"\n    }\n  }];\n}\n\n// ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô Log ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô Cache\nasync function logCacheUsage(data) {\n  try {\n    // ‡πÉ‡∏ô‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πâ‡∏Ñ‡∏ß‡∏£‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏•‡∏á Google Sheets ‡∏´‡∏£‡∏∑‡∏≠ Database\n    console.log('Cache Usage Log:', JSON.stringify(data, null, 2));\n    \n    // ‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡πÄ‡∏ö‡∏∑‡πâ‡∏≠‡∏á‡∏ï‡πâ‡∏ô\n    if (data.source === 'faq_cache') {\n      console.log('‚úÖ FAQ Cache Hit - Fast Response');\n    } else if (data.source === 'ai_success') {\n      console.log('ü§ñ AI Success - Response Time:', data.responseTime + 'ms');\n    } else if (data.source === 'fallback') {\n      console.log('‚ö†Ô∏è Fallback Used - Potential Issue');\n    }\n  } catch (error) {\n    console.error('Error logging cache usage:', error);\n  }\n}"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -5420,
        5740
      ],
      "id": "response-handler-with-logging",
      "name": "Response Handler with Logging"
    },
    {
      "parameters": {
        "operation": "append",
        "documentId": {
          "__rl": true,
          "value": "1k_mbgTvK24Sf5X17zCcpJYWfDPLjI0yYBZ2wTbLylvk",
          "mode": "list",
          "cachedResultName": "Session"
        },
        "sheetName": {
          "__rl": true,
          "value": "CacheStats",
          "mode": "manual"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "timestamp": "={{ new Date().toISOString() }}",
            "userId": "={{ $('Edit Fields1').first().json.body.events[0].source.userId }}",
            "message": "={{ $('Edit Fields1').first().json.body.events[0].message.text }}",
            "source": "={{ $json.source || 'unknown' }}",
            "responseTime": "={{ $json.responseTime || 0 }}",
            "error": "={{ $json.error || '' }}"
          }
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.6,
      "position": [
        -5000,
        5740
      ],
      "id": "cache-stats-logger",
      "name": "Cache Stats Logger",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "yXwpG74z0WCiuGZW",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "try {\n  const today = new Date();\n  const startOfDay = new Date(today.setHours(0,0,0,0));\n  \n  // ‡∏à‡∏≥‡∏•‡∏≠‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô (‡πÉ‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏õ‡πá‡∏ô‡∏à‡∏£‡∏¥‡∏á‡∏à‡∏∞‡∏î‡∏∂‡∏á‡∏à‡∏≤‡∏Å Google Sheets)\n  const mockUsageData = [\n    { source: 'faq_cache', responseTime: 50, timestamp: new Date() },\n    { source: 'ai_success', responseTime: 3500, timestamp: new Date() },\n    { source: 'fallback', responseTime: 25000, error: 'AI_TIMEOUT', timestamp: new Date() }\n  ];\n  \n  const stats = {\n    totalRequests: 0,\n    faqHits: 0,\n    aiCalls: 0,\n    timeouts: 0,\n    errors: 0,\n    avgResponseTime: 0\n  };\n  \n  // ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•\n  mockUsageData.forEach(item => {\n    stats.totalRequests++;\n    \n    if (item.source === 'faq_cache') {\n      stats.faqHits++;\n    } else if (item.source === 'ai_success') {\n      stats.aiCalls++;\n      stats.avgResponseTime += item.responseTime;\n    } else if (item.source === 'fallback' && item.error === 'AI_TIMEOUT') {\n      stats.timeouts++;\n    } else if (item.source === 'fallback') {\n      stats.errors++;\n    }\n  });\n  \n  // ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏Ñ‡πà‡∏≤‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢\n  if (stats.aiCalls > 0) {\n    stats.avgResponseTime = Math.round(stats.avgResponseTime / stats.aiCalls);\n  }\n  \n  // ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì Cache Hit Rate\n  const cacheHitRate = stats.totalRequests > 0 ? \n    Math.round((stats.faqHits / stats.totalRequests) * 100) : 0;\n  \n  // ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô\n  const report = `üìä ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô Cache Performance\n\nüî¢ ‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏£‡∏ß‡∏°:\n- ‡∏Ñ‡∏≥‡∏Ç‡∏≠‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î: ${stats.totalRequests}\n- FAQ Cache Hits: ${stats.faqHits} (${cacheHitRate}%)\n- AI Calls: ${stats.aiCalls}\n- Timeouts: ${stats.timeouts}\n- Errors: ${stats.errors}\n\n‚ö° Performance:\n- ‡πÄ‡∏ß‡∏•‡∏≤‡∏ï‡∏≠‡∏ö‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢: ${stats.avgResponseTime}ms\n- Cache Hit Rate: ${cacheHitRate}%\n\nüí° ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞: ${cacheHitRate > 40 ? '‚úÖ ‡∏î‡∏µ' : '‚ö†Ô∏è ‡∏Ñ‡∏ß‡∏£‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á'}`;\n  \n  console.log('Performance Report Generated:', report);\n  \n  return [{\n    json: {\n      report: report,\n      stats: stats,\n      cacheHitRate: cacheHitRate,\n      status: cacheHitRate > 40 ? 'good' : 'needs_improvement'\n    }\n  }];\n  \n} catch (error) {\n  return [{\n    json: {\n      error: error.message,\n      report: \"‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ\"\n    }\n  }];\n}"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -4000,
        5500
      ],
      "id": "performance-monitor",
      "name": "Performance Monitor"
    },
    {
      "parameters": {
        "jsCode": "try {\n  // ‡πÄ‡∏ä‡πá‡∏Ñ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ Services\n  const healthChecks = {\n    system: true,\n    faqCache: true,\n    aiService: Math.random() > 0.1, // ‡∏à‡∏≥‡∏•‡∏≠‡∏á 90% uptime\n    database: true,\n    lineApi: true\n  };\n  \n  const allHealthy = Object.values(healthChecks).every(status => status);\n  const healthyCount = Object.values(healthChecks).filter(status => status).length;\n  const totalServices = Object.keys(healthChecks).length;\n  \n  const healthReport = `üè• Health Check Report\n\nüìä Services Status (${healthyCount}/${totalServices}):\n${Object.entries(healthChecks).map(([service, status]) => \n    `${status ? '‚úÖ' : '‚ùå'} ${service}: ${status ? 'Healthy' : 'Down'}`\n  ).join('\\n')}\n\nüéØ Overall Status: ${allHealthy ? '‚úÖ All Systems Operational' : '‚ö†Ô∏è Some Issues Detected'}\n\n‚è∞ Last Check: ${new Date().toLocaleString('th-TH')}`;\n  \n  console.log('Health Check Completed:', healthReport);\n  \n  return [{\n    json: {\n      report: healthReport,\n      services: healthChecks,\n      overallStatus: allHealthy ? 'healthy' : 'degraded',\n      timestamp: new Date().toISOString()\n    }\n  }];\n  \n} catch (error) {\n  return [{\n    json: {\n      error: error.message,\n      report: \"Health check failed\",\n      overallStatus: 'error'\n    }\n  }];\n}"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -4000,
        5800
      ],
      "id": "health-check",
      "name": "Health Check"
    },
    {
      "parameters": {
        "httpMethod": "POST",
        "path": "tyreis88",
        "responseMode": "responseNode",
        "options": {}
      },
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 2,
      "position": [
        -9220,
        6460
      ],
      "id": "webhook-main",
      "name": "Webhook1",
      "webhookId": "10a617e8-a0f3-401f-be76-79e386e0e4b8"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "a027155a-071f-4e2c-9905-1b41abea507c",
              "name": "body.events[0].replyToken",
              "value": "={{ $('Webhook1').item.json.body.events[0].replyToken }}",
              "type": "string"
            },
            {
              "id": "812a988a-0520-46ed-af6f-0a431814a1bd",
              "name": "body.events[0].message.text",
              "value": "={{ $json.body.events[0].message.text }}",
              "type": "string"
            },
            {
              "id": "01feb716-a36a-4d7d-ac12-19bd0bb4b796",
              "name": "body.events[0].source.userId",
              "value": "={{ $json.body.events[0].source.userId }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        -8920,
        6460
      ],
      "id": "edit-fields-main",
      "name": "Edit Fields1"
    },
    {
      "parameters": {
        "method": "POST",
        "url": "https://api.line.me/v2/bot/message/reply",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={{ {\n  \"replyToken\": $('Edit Fields1').item.json.body.events[0].replyToken,\n  \"messages\": [\n    {\n      \"type\": \"text\",\n      \"text\": $json.text || '‡∏Ç‡∏≠‡∏≠‡∏†‡∏±‡∏¢‡∏Ñ‡πà‡∏∞ ‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏• ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏∞'\n    }\n  ]\n} }}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        -4560,
        6480
      ],
      "id": "line-reply-main",
      "name": "LINE Reply",
      "credentials": {
        "httpHeaderAuth": {
          "id": "Cx3x2Lw4eG9d4Xyr",
          "name": "Header Auth account 2"
        }
      }
    }
  ],
  "connections": {
    "Webhook1": {
      "main": [
        [
          {
            "node": "Edit Fields1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields1": {
      "main": [
        [
          {
            "node": "FAQ Cache Checker",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "FAQ Cache Checker": {
      "main": [
        [
          {
            "node": "AI Information Extractor",
            "type": "main",
            "index": 0
          },
          {
            "node": "Enhanced QA with Timeout",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "AI Information Extractor": {
      "main": [
        [
          {
            "node": "Enhanced QA with Timeout",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Enhanced QA with Timeout": {
      "main": [
        [
          {
            "node": "Response Handler with Logging",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Response Handler with Logging": {
      "main": [
        [
          {
            "node": "Cache Stats Logger",
            "type": "main",
            "index": 0
          },
          {
            "node": "LINE Reply",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "pinData": {},
  "settings": {
    "executionOrder": "v1"
  },
  "staticData": null,
  "tags": [],
  "triggerCount": 0,
  "updatedAt": "2025-01-22T10:00:00.000Z",
  "versionId": "cache-enabled-v1"
}